{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.getBoundsForNode = getBoundsForNode;\nexports.getEventNodeFromPoint = getEventNodeFromPoint;\nexports.isEvent = isEvent;\nexports.objectsCollide = objectsCollide;\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _contains = _interopRequireDefault(require(\"dom-helpers/contains\"));\nvar _closest = _interopRequireDefault(require(\"dom-helpers/closest\"));\nvar _listen = _interopRequireDefault(require(\"dom-helpers/listen\"));\nfunction addEventListener(type, handler) {\n  var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document;\n  return (0, _listen.default)(target, type, handler, {\n    passive: false\n  });\n}\nfunction isOverContainer(container, x, y) {\n  return !container || (0, _contains.default)(container, document.elementFromPoint(x, y));\n}\nfunction getEventNodeFromPoint(node, _ref) {\n  var clientX = _ref.clientX,\n    clientY = _ref.clientY;\n  var target = document.elementFromPoint(clientX, clientY);\n  return (0, _closest.default)(target, '.rbc-event', node);\n}\nfunction isEvent(node, bounds) {\n  return !!getEventNodeFromPoint(node, bounds);\n}\nfunction getEventCoordinates(e) {\n  var target = e;\n  if (e.touches && e.touches.length) {\n    target = e.touches[0];\n  }\n  return {\n    clientX: target.clientX,\n    clientY: target.clientY,\n    pageX: target.pageX,\n    pageY: target.pageY\n  };\n}\nvar clickTolerance = 5;\nvar clickInterval = 250;\nvar Selection = /*#__PURE__*/function () {\n  function Selection(node) {\n    var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref2$global = _ref2.global,\n      global = _ref2$global === void 0 ? false : _ref2$global,\n      _ref2$longPressThresh = _ref2.longPressThreshold,\n      longPressThreshold = _ref2$longPressThresh === void 0 ? 250 : _ref2$longPressThresh,\n      _ref2$validContainers = _ref2.validContainers,\n      validContainers = _ref2$validContainers === void 0 ? [] : _ref2$validContainers;\n    (0, _classCallCheck2.default)(this, Selection);\n    this.isDetached = false;\n    this.container = node;\n    this.globalMouse = !node || global;\n    this.longPressThreshold = longPressThreshold;\n    this.validContainers = validContainers;\n    this._listeners = Object.create(null);\n    this._handleInitialEvent = this._handleInitialEvent.bind(this);\n    this._handleMoveEvent = this._handleMoveEvent.bind(this);\n    this._handleTerminatingEvent = this._handleTerminatingEvent.bind(this);\n    this._keyListener = this._keyListener.bind(this);\n    this._dropFromOutsideListener = this._dropFromOutsideListener.bind(this);\n    this._dragOverFromOutsideListener = this._dragOverFromOutsideListener.bind(this); // Fixes an iOS 10 bug where scrolling could not be prevented on the window.\n    // https://github.com/metafizzy/flickity/issues/457#issuecomment-254501356\n\n    this._removeTouchMoveWindowListener = addEventListener('touchmove', function () {}, window);\n    this._removeKeyDownListener = addEventListener('keydown', this._keyListener);\n    this._removeKeyUpListener = addEventListener('keyup', this._keyListener);\n    this._removeDropFromOutsideListener = addEventListener('drop', this._dropFromOutsideListener);\n    this._removeDragOverFromOutsideListener = addEventListener('dragover', this._dragOverFromOutsideListener);\n    this._addInitialEventListener();\n  }\n  (0, _createClass2.default)(Selection, [{\n    key: \"on\",\n    value: function on(type, handler) {\n      var handlers = this._listeners[type] || (this._listeners[type] = []);\n      handlers.push(handler);\n      return {\n        remove: function remove() {\n          var idx = handlers.indexOf(handler);\n          if (idx !== -1) handlers.splice(idx, 1);\n        }\n      };\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(type) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      var result;\n      var handlers = this._listeners[type] || [];\n      handlers.forEach(function (fn) {\n        if (result === undefined) result = fn.apply(void 0, args);\n      });\n      return result;\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      this.isDetached = true;\n      this._listeners = Object.create(null);\n      this._removeTouchMoveWindowListener && this._removeTouchMoveWindowListener();\n      this._removeInitialEventListener && this._removeInitialEventListener();\n      this._removeEndListener && this._removeEndListener();\n      this._onEscListener && this._onEscListener();\n      this._removeMoveListener && this._removeMoveListener();\n      this._removeKeyUpListener && this._removeKeyUpListener();\n      this._removeKeyDownListener && this._removeKeyDownListener();\n      this._removeDropFromOutsideListener && this._removeDropFromOutsideListener();\n      this._removeDragOverFromOutsideListener && this._removeDragOverFromOutsideListener();\n    }\n  }, {\n    key: \"isSelected\",\n    value: function isSelected(node) {\n      var box = this._selectRect;\n      if (!box || !this.selecting) return false;\n      return objectsCollide(box, getBoundsForNode(node));\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(items) {\n      var box = this._selectRect; //not selecting\n\n      if (!box || !this.selecting) return [];\n      return items.filter(this.isSelected, this);\n    } // Adds a listener that will call the handler only after the user has pressed on the screen\n    // without moving their finger for 250ms.\n  }, {\n    key: \"_addLongPressListener\",\n    value: function _addLongPressListener(handler, initialEvent) {\n      var _this = this;\n      var timer = null;\n      var removeTouchMoveListener = null;\n      var removeTouchEndListener = null;\n      var handleTouchStart = function handleTouchStart(initialEvent) {\n        timer = setTimeout(function () {\n          cleanup();\n          handler(initialEvent);\n        }, _this.longPressThreshold);\n        removeTouchMoveListener = addEventListener('touchmove', function () {\n          return cleanup();\n        });\n        removeTouchEndListener = addEventListener('touchend', function () {\n          return cleanup();\n        });\n      };\n      var removeTouchStartListener = addEventListener('touchstart', handleTouchStart);\n      var cleanup = function cleanup() {\n        if (timer) {\n          clearTimeout(timer);\n        }\n        if (removeTouchMoveListener) {\n          removeTouchMoveListener();\n        }\n        if (removeTouchEndListener) {\n          removeTouchEndListener();\n        }\n        timer = null;\n        removeTouchMoveListener = null;\n        removeTouchEndListener = null;\n      };\n      if (initialEvent) {\n        handleTouchStart(initialEvent);\n      }\n      return function () {\n        cleanup();\n        removeTouchStartListener();\n      };\n    } // Listen for mousedown and touchstart events. When one is received, disable the other and setup\n    // future event handling based on the type of event.\n  }, {\n    key: \"_addInitialEventListener\",\n    value: function _addInitialEventListener() {\n      var _this2 = this;\n      var removeMouseDownListener = addEventListener('mousedown', function (e) {\n        _this2._removeInitialEventListener();\n        _this2._handleInitialEvent(e);\n        _this2._removeInitialEventListener = addEventListener('mousedown', _this2._handleInitialEvent);\n      });\n      var removeTouchStartListener = addEventListener('touchstart', function (e) {\n        _this2._removeInitialEventListener();\n        _this2._removeInitialEventListener = _this2._addLongPressListener(_this2._handleInitialEvent, e);\n      });\n      this._removeInitialEventListener = function () {\n        removeMouseDownListener();\n        removeTouchStartListener();\n      };\n    }\n  }, {\n    key: \"_dropFromOutsideListener\",\n    value: function _dropFromOutsideListener(e) {\n      var _getEventCoordinates = getEventCoordinates(e),\n        pageX = _getEventCoordinates.pageX,\n        pageY = _getEventCoordinates.pageY,\n        clientX = _getEventCoordinates.clientX,\n        clientY = _getEventCoordinates.clientY;\n      this.emit('dropFromOutside', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      e.preventDefault();\n    }\n  }, {\n    key: \"_dragOverFromOutsideListener\",\n    value: function _dragOverFromOutsideListener(e) {\n      var _getEventCoordinates2 = getEventCoordinates(e),\n        pageX = _getEventCoordinates2.pageX,\n        pageY = _getEventCoordinates2.pageY,\n        clientX = _getEventCoordinates2.clientX,\n        clientY = _getEventCoordinates2.clientY;\n      this.emit('dragOverFromOutside', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      e.preventDefault();\n    }\n  }, {\n    key: \"_handleInitialEvent\",\n    value: function _handleInitialEvent(e) {\n      if (this.isDetached) {\n        return;\n      }\n      var _getEventCoordinates3 = getEventCoordinates(e),\n        clientX = _getEventCoordinates3.clientX,\n        clientY = _getEventCoordinates3.clientY,\n        pageX = _getEventCoordinates3.pageX,\n        pageY = _getEventCoordinates3.pageY;\n      var node = this.container(),\n        collides,\n        offsetData; // Right clicks\n\n      if (e.which === 3 || e.button === 2 || !isOverContainer(node, clientX, clientY)) return;\n      if (!this.globalMouse && node && !(0, _contains.default)(node, e.target)) {\n        var _normalizeDistance = normalizeDistance(0),\n          top = _normalizeDistance.top,\n          left = _normalizeDistance.left,\n          bottom = _normalizeDistance.bottom,\n          right = _normalizeDistance.right;\n        offsetData = getBoundsForNode(node);\n        collides = objectsCollide({\n          top: offsetData.top - top,\n          left: offsetData.left - left,\n          bottom: offsetData.bottom + bottom,\n          right: offsetData.right + right\n        }, {\n          top: pageY,\n          left: pageX\n        });\n        if (!collides) return;\n      }\n      var result = this.emit('beforeSelect', this._initialEventData = {\n        isTouch: /^touch/.test(e.type),\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      if (result === false) return;\n      switch (e.type) {\n        case 'mousedown':\n          this._removeEndListener = addEventListener('mouseup', this._handleTerminatingEvent);\n          this._onEscListener = addEventListener('keydown', this._handleTerminatingEvent);\n          this._removeMoveListener = addEventListener('mousemove', this._handleMoveEvent);\n          break;\n        case 'touchstart':\n          this._handleMoveEvent(e);\n          this._removeEndListener = addEventListener('touchend', this._handleTerminatingEvent);\n          this._removeMoveListener = addEventListener('touchmove', this._handleMoveEvent);\n          break;\n        default:\n          break;\n      }\n    } // Check whether provided event target element\n    // - is contained within a valid container\n  }, {\n    key: \"_isWithinValidContainer\",\n    value: function _isWithinValidContainer(e) {\n      var eventTarget = e.target;\n      var containers = this.validContainers;\n      if (!containers || !containers.length || !eventTarget) {\n        return true;\n      }\n      return containers.some(function (target) {\n        return !!eventTarget.closest(target);\n      });\n    }\n  }, {\n    key: \"_handleTerminatingEvent\",\n    value: function _handleTerminatingEvent(e) {\n      var _getEventCoordinates4 = getEventCoordinates(e),\n        pageX = _getEventCoordinates4.pageX,\n        pageY = _getEventCoordinates4.pageY;\n      this.selecting = false;\n      this._removeEndListener && this._removeEndListener();\n      this._removeMoveListener && this._removeMoveListener();\n      if (!this._initialEventData) return;\n      var inRoot = !this.container || (0, _contains.default)(this.container(), e.target);\n      var isWithinValidContainer = this._isWithinValidContainer(e);\n      var bounds = this._selectRect;\n      var click = this.isClick(pageX, pageY);\n      this._initialEventData = null;\n      if (e.key === 'Escape' || !isWithinValidContainer) {\n        return this.emit('reset');\n      }\n      if (click && inRoot) {\n        return this._handleClickEvent(e);\n      } // User drag-clicked in the Selectable area\n\n      if (!click) return this.emit('select', bounds);\n      return this.emit('reset');\n    }\n  }, {\n    key: \"_handleClickEvent\",\n    value: function _handleClickEvent(e) {\n      var _getEventCoordinates5 = getEventCoordinates(e),\n        pageX = _getEventCoordinates5.pageX,\n        pageY = _getEventCoordinates5.pageY,\n        clientX = _getEventCoordinates5.clientX,\n        clientY = _getEventCoordinates5.clientY;\n      var now = new Date().getTime();\n      if (this._lastClickData && now - this._lastClickData.timestamp < clickInterval) {\n        // Double click event\n        this._lastClickData = null;\n        return this.emit('doubleClick', {\n          x: pageX,\n          y: pageY,\n          clientX: clientX,\n          clientY: clientY\n        });\n      } // Click event\n\n      this._lastClickData = {\n        timestamp: now\n      };\n      return this.emit('click', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n    }\n  }, {\n    key: \"_handleMoveEvent\",\n    value: function _handleMoveEvent(e) {\n      if (this._initialEventData === null || this.isDetached) {\n        return;\n      }\n      var _this$_initialEventDa = this._initialEventData,\n        x = _this$_initialEventDa.x,\n        y = _this$_initialEventDa.y;\n      var _getEventCoordinates6 = getEventCoordinates(e),\n        pageX = _getEventCoordinates6.pageX,\n        pageY = _getEventCoordinates6.pageY;\n      var w = Math.abs(x - pageX);\n      var h = Math.abs(y - pageY);\n      var left = Math.min(pageX, x),\n        top = Math.min(pageY, y),\n        old = this.selecting; // Prevent emitting selectStart event until mouse is moved.\n      // in Chrome on Windows, mouseMove event may be fired just after mouseDown event.\n\n      if (this.isClick(pageX, pageY) && !old && !(w || h)) {\n        return;\n      }\n      this.selecting = true;\n      this._selectRect = {\n        top: top,\n        left: left,\n        x: pageX,\n        y: pageY,\n        right: left + w,\n        bottom: top + h\n      };\n      if (!old) {\n        this.emit('selectStart', this._initialEventData);\n      }\n      if (!this.isClick(pageX, pageY)) this.emit('selecting', this._selectRect);\n      e.preventDefault();\n    }\n  }, {\n    key: \"_keyListener\",\n    value: function _keyListener(e) {\n      this.ctrl = e.metaKey || e.ctrlKey;\n    }\n  }, {\n    key: \"isClick\",\n    value: function isClick(pageX, pageY) {\n      var _this$_initialEventDa2 = this._initialEventData,\n        x = _this$_initialEventDa2.x,\n        y = _this$_initialEventDa2.y,\n        isTouch = _this$_initialEventDa2.isTouch;\n      return !isTouch && Math.abs(pageX - x) <= clickTolerance && Math.abs(pageY - y) <= clickTolerance;\n    }\n  }]);\n  return Selection;\n}();\n/**\n * Resolve the disance prop from either an Int or an Object\n * @return {Object}\n */\n\nfunction normalizeDistance() {\n  var distance = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  if ((0, _typeof2.default)(distance) !== 'object') distance = {\n    top: distance,\n    left: distance,\n    right: distance,\n    bottom: distance\n  };\n  return distance;\n}\n/**\n * Given two objects containing \"top\", \"left\", \"offsetWidth\" and \"offsetHeight\"\n * properties, determine if they collide.\n * @param  {Object|HTMLElement} a\n * @param  {Object|HTMLElement} b\n * @return {bool}\n */\n\nfunction objectsCollide(nodeA, nodeB) {\n  var tolerance = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var _getBoundsForNode = getBoundsForNode(nodeA),\n    aTop = _getBoundsForNode.top,\n    aLeft = _getBoundsForNode.left,\n    _getBoundsForNode$rig = _getBoundsForNode.right,\n    aRight = _getBoundsForNode$rig === void 0 ? aLeft : _getBoundsForNode$rig,\n    _getBoundsForNode$bot = _getBoundsForNode.bottom,\n    aBottom = _getBoundsForNode$bot === void 0 ? aTop : _getBoundsForNode$bot;\n  var _getBoundsForNode2 = getBoundsForNode(nodeB),\n    bTop = _getBoundsForNode2.top,\n    bLeft = _getBoundsForNode2.left,\n    _getBoundsForNode2$ri = _getBoundsForNode2.right,\n    bRight = _getBoundsForNode2$ri === void 0 ? bLeft : _getBoundsForNode2$ri,\n    _getBoundsForNode2$bo = _getBoundsForNode2.bottom,\n    bBottom = _getBoundsForNode2$bo === void 0 ? bTop : _getBoundsForNode2$bo;\n  return !(\n  // 'a' bottom doesn't touch 'b' top\n  aBottom - tolerance < bTop ||\n  // 'a' top doesn't touch 'b' bottom\n  aTop + tolerance > bBottom ||\n  // 'a' right doesn't touch 'b' left\n  aRight - tolerance < bLeft ||\n  // 'a' left doesn't touch 'b' right\n  aLeft + tolerance > bRight);\n}\n/**\n * Given a node, get everything needed to calculate its boundaries\n * @param  {HTMLElement} node\n * @return {Object}\n */\n\nfunction getBoundsForNode(node) {\n  if (!node.getBoundingClientRect) return node;\n  var rect = node.getBoundingClientRect(),\n    left = rect.left + pageOffset('left'),\n    top = rect.top + pageOffset('top');\n  return {\n    top: top,\n    left: left,\n    right: (node.offsetWidth || 0) + left,\n    bottom: (node.offsetHeight || 0) + top\n  };\n}\nfunction pageOffset(dir) {\n  if (dir === 'left') return window.pageXOffset || document.body.scrollLeft || 0;\n  if (dir === 'top') return window.pageYOffset || document.body.scrollTop || 0;\n}\nvar _default = Selection;\nexports.default = _default;","map":{"version":3,"names":["_interopRequireDefault","require","default","Object","defineProperty","exports","value","getBoundsForNode","getEventNodeFromPoint","isEvent","objectsCollide","_typeof2","_classCallCheck2","_createClass2","_contains","_closest","_listen","addEventListener","type","handler","target","arguments","length","undefined","document","passive","isOverContainer","container","x","y","elementFromPoint","node","_ref","clientX","clientY","bounds","getEventCoordinates","e","touches","pageX","pageY","clickTolerance","clickInterval","Selection","_ref2","_ref2$global","global","_ref2$longPressThresh","longPressThreshold","_ref2$validContainers","validContainers","isDetached","globalMouse","_listeners","create","_handleInitialEvent","bind","_handleMoveEvent","_handleTerminatingEvent","_keyListener","_dropFromOutsideListener","_dragOverFromOutsideListener","_removeTouchMoveWindowListener","window","_removeKeyDownListener","_removeKeyUpListener","_removeDropFromOutsideListener","_removeDragOverFromOutsideListener","_addInitialEventListener","key","on","handlers","push","remove","idx","indexOf","splice","emit","_len","args","Array","_key","result","forEach","fn","apply","teardown","_removeInitialEventListener","_removeEndListener","_onEscListener","_removeMoveListener","isSelected","box","_selectRect","selecting","filter","items","_addLongPressListener","initialEvent","_this","timer","removeTouchMoveListener","removeTouchEndListener","handleTouchStart","setTimeout","cleanup","removeTouchStartListener","clearTimeout","_this2","removeMouseDownListener","_getEventCoordinates","preventDefault","_getEventCoordinates2","_getEventCoordinates3","collides","offsetData","which","button","_normalizeDistance","normalizeDistance","top","left","bottom","right","_initialEventData","isTouch","test","_isWithinValidContainer","eventTarget","containers","some","closest","_getEventCoordinates4","inRoot","isWithinValidContainer","click","isClick","_handleClickEvent","_getEventCoordinates5","now","Date","getTime","_lastClickData","timestamp","_this$_initialEventDa","_getEventCoordinates6","w","Math","abs","h","min","old","ctrl","metaKey","ctrlKey","_this$_initialEventDa2","distance","nodeA","nodeB","tolerance","_getBoundsForNode","aTop","aLeft","_getBoundsForNode$rig","aRight","_getBoundsForNode$bot","aBottom","_getBoundsForNode2","bTop","bLeft","_getBoundsForNode2$ri","bRight","_getBoundsForNode2$bo","bBottom","getBoundingClientRect","rect","pageOffset","offsetWidth","offsetHeight","dir","pageXOffset","body","scrollLeft","pageYOffset","scrollTop","_default"],"sources":["/Users/lohanson/node_modules/react-big-calendar/lib/Selection.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.getBoundsForNode = getBoundsForNode;\nexports.getEventNodeFromPoint = getEventNodeFromPoint;\nexports.isEvent = isEvent;\nexports.objectsCollide = objectsCollide;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _contains = _interopRequireDefault(require(\"dom-helpers/contains\"));\n\nvar _closest = _interopRequireDefault(require(\"dom-helpers/closest\"));\n\nvar _listen = _interopRequireDefault(require(\"dom-helpers/listen\"));\n\nfunction addEventListener(type, handler) {\n  var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document;\n  return (0, _listen.default)(target, type, handler, {\n    passive: false\n  });\n}\n\nfunction isOverContainer(container, x, y) {\n  return !container || (0, _contains.default)(container, document.elementFromPoint(x, y));\n}\n\nfunction getEventNodeFromPoint(node, _ref) {\n  var clientX = _ref.clientX,\n      clientY = _ref.clientY;\n  var target = document.elementFromPoint(clientX, clientY);\n  return (0, _closest.default)(target, '.rbc-event', node);\n}\n\nfunction isEvent(node, bounds) {\n  return !!getEventNodeFromPoint(node, bounds);\n}\n\nfunction getEventCoordinates(e) {\n  var target = e;\n\n  if (e.touches && e.touches.length) {\n    target = e.touches[0];\n  }\n\n  return {\n    clientX: target.clientX,\n    clientY: target.clientY,\n    pageX: target.pageX,\n    pageY: target.pageY\n  };\n}\n\nvar clickTolerance = 5;\nvar clickInterval = 250;\n\nvar Selection = /*#__PURE__*/function () {\n  function Selection(node) {\n    var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref2$global = _ref2.global,\n        global = _ref2$global === void 0 ? false : _ref2$global,\n        _ref2$longPressThresh = _ref2.longPressThreshold,\n        longPressThreshold = _ref2$longPressThresh === void 0 ? 250 : _ref2$longPressThresh,\n        _ref2$validContainers = _ref2.validContainers,\n        validContainers = _ref2$validContainers === void 0 ? [] : _ref2$validContainers;\n\n    (0, _classCallCheck2.default)(this, Selection);\n    this.isDetached = false;\n    this.container = node;\n    this.globalMouse = !node || global;\n    this.longPressThreshold = longPressThreshold;\n    this.validContainers = validContainers;\n    this._listeners = Object.create(null);\n    this._handleInitialEvent = this._handleInitialEvent.bind(this);\n    this._handleMoveEvent = this._handleMoveEvent.bind(this);\n    this._handleTerminatingEvent = this._handleTerminatingEvent.bind(this);\n    this._keyListener = this._keyListener.bind(this);\n    this._dropFromOutsideListener = this._dropFromOutsideListener.bind(this);\n    this._dragOverFromOutsideListener = this._dragOverFromOutsideListener.bind(this); // Fixes an iOS 10 bug where scrolling could not be prevented on the window.\n    // https://github.com/metafizzy/flickity/issues/457#issuecomment-254501356\n\n    this._removeTouchMoveWindowListener = addEventListener('touchmove', function () {}, window);\n    this._removeKeyDownListener = addEventListener('keydown', this._keyListener);\n    this._removeKeyUpListener = addEventListener('keyup', this._keyListener);\n    this._removeDropFromOutsideListener = addEventListener('drop', this._dropFromOutsideListener);\n    this._removeDragOverFromOutsideListener = addEventListener('dragover', this._dragOverFromOutsideListener);\n\n    this._addInitialEventListener();\n  }\n\n  (0, _createClass2.default)(Selection, [{\n    key: \"on\",\n    value: function on(type, handler) {\n      var handlers = this._listeners[type] || (this._listeners[type] = []);\n      handlers.push(handler);\n      return {\n        remove: function remove() {\n          var idx = handlers.indexOf(handler);\n          if (idx !== -1) handlers.splice(idx, 1);\n        }\n      };\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(type) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var result;\n      var handlers = this._listeners[type] || [];\n      handlers.forEach(function (fn) {\n        if (result === undefined) result = fn.apply(void 0, args);\n      });\n      return result;\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      this.isDetached = true;\n      this._listeners = Object.create(null);\n      this._removeTouchMoveWindowListener && this._removeTouchMoveWindowListener();\n      this._removeInitialEventListener && this._removeInitialEventListener();\n      this._removeEndListener && this._removeEndListener();\n      this._onEscListener && this._onEscListener();\n      this._removeMoveListener && this._removeMoveListener();\n      this._removeKeyUpListener && this._removeKeyUpListener();\n      this._removeKeyDownListener && this._removeKeyDownListener();\n      this._removeDropFromOutsideListener && this._removeDropFromOutsideListener();\n      this._removeDragOverFromOutsideListener && this._removeDragOverFromOutsideListener();\n    }\n  }, {\n    key: \"isSelected\",\n    value: function isSelected(node) {\n      var box = this._selectRect;\n      if (!box || !this.selecting) return false;\n      return objectsCollide(box, getBoundsForNode(node));\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(items) {\n      var box = this._selectRect; //not selecting\n\n      if (!box || !this.selecting) return [];\n      return items.filter(this.isSelected, this);\n    } // Adds a listener that will call the handler only after the user has pressed on the screen\n    // without moving their finger for 250ms.\n\n  }, {\n    key: \"_addLongPressListener\",\n    value: function _addLongPressListener(handler, initialEvent) {\n      var _this = this;\n\n      var timer = null;\n      var removeTouchMoveListener = null;\n      var removeTouchEndListener = null;\n\n      var handleTouchStart = function handleTouchStart(initialEvent) {\n        timer = setTimeout(function () {\n          cleanup();\n          handler(initialEvent);\n        }, _this.longPressThreshold);\n        removeTouchMoveListener = addEventListener('touchmove', function () {\n          return cleanup();\n        });\n        removeTouchEndListener = addEventListener('touchend', function () {\n          return cleanup();\n        });\n      };\n\n      var removeTouchStartListener = addEventListener('touchstart', handleTouchStart);\n\n      var cleanup = function cleanup() {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        if (removeTouchMoveListener) {\n          removeTouchMoveListener();\n        }\n\n        if (removeTouchEndListener) {\n          removeTouchEndListener();\n        }\n\n        timer = null;\n        removeTouchMoveListener = null;\n        removeTouchEndListener = null;\n      };\n\n      if (initialEvent) {\n        handleTouchStart(initialEvent);\n      }\n\n      return function () {\n        cleanup();\n        removeTouchStartListener();\n      };\n    } // Listen for mousedown and touchstart events. When one is received, disable the other and setup\n    // future event handling based on the type of event.\n\n  }, {\n    key: \"_addInitialEventListener\",\n    value: function _addInitialEventListener() {\n      var _this2 = this;\n\n      var removeMouseDownListener = addEventListener('mousedown', function (e) {\n        _this2._removeInitialEventListener();\n\n        _this2._handleInitialEvent(e);\n\n        _this2._removeInitialEventListener = addEventListener('mousedown', _this2._handleInitialEvent);\n      });\n      var removeTouchStartListener = addEventListener('touchstart', function (e) {\n        _this2._removeInitialEventListener();\n\n        _this2._removeInitialEventListener = _this2._addLongPressListener(_this2._handleInitialEvent, e);\n      });\n\n      this._removeInitialEventListener = function () {\n        removeMouseDownListener();\n        removeTouchStartListener();\n      };\n    }\n  }, {\n    key: \"_dropFromOutsideListener\",\n    value: function _dropFromOutsideListener(e) {\n      var _getEventCoordinates = getEventCoordinates(e),\n          pageX = _getEventCoordinates.pageX,\n          pageY = _getEventCoordinates.pageY,\n          clientX = _getEventCoordinates.clientX,\n          clientY = _getEventCoordinates.clientY;\n\n      this.emit('dropFromOutside', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      e.preventDefault();\n    }\n  }, {\n    key: \"_dragOverFromOutsideListener\",\n    value: function _dragOverFromOutsideListener(e) {\n      var _getEventCoordinates2 = getEventCoordinates(e),\n          pageX = _getEventCoordinates2.pageX,\n          pageY = _getEventCoordinates2.pageY,\n          clientX = _getEventCoordinates2.clientX,\n          clientY = _getEventCoordinates2.clientY;\n\n      this.emit('dragOverFromOutside', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      e.preventDefault();\n    }\n  }, {\n    key: \"_handleInitialEvent\",\n    value: function _handleInitialEvent(e) {\n      if (this.isDetached) {\n        return;\n      }\n\n      var _getEventCoordinates3 = getEventCoordinates(e),\n          clientX = _getEventCoordinates3.clientX,\n          clientY = _getEventCoordinates3.clientY,\n          pageX = _getEventCoordinates3.pageX,\n          pageY = _getEventCoordinates3.pageY;\n\n      var node = this.container(),\n          collides,\n          offsetData; // Right clicks\n\n      if (e.which === 3 || e.button === 2 || !isOverContainer(node, clientX, clientY)) return;\n\n      if (!this.globalMouse && node && !(0, _contains.default)(node, e.target)) {\n        var _normalizeDistance = normalizeDistance(0),\n            top = _normalizeDistance.top,\n            left = _normalizeDistance.left,\n            bottom = _normalizeDistance.bottom,\n            right = _normalizeDistance.right;\n\n        offsetData = getBoundsForNode(node);\n        collides = objectsCollide({\n          top: offsetData.top - top,\n          left: offsetData.left - left,\n          bottom: offsetData.bottom + bottom,\n          right: offsetData.right + right\n        }, {\n          top: pageY,\n          left: pageX\n        });\n        if (!collides) return;\n      }\n\n      var result = this.emit('beforeSelect', this._initialEventData = {\n        isTouch: /^touch/.test(e.type),\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      if (result === false) return;\n\n      switch (e.type) {\n        case 'mousedown':\n          this._removeEndListener = addEventListener('mouseup', this._handleTerminatingEvent);\n          this._onEscListener = addEventListener('keydown', this._handleTerminatingEvent);\n          this._removeMoveListener = addEventListener('mousemove', this._handleMoveEvent);\n          break;\n\n        case 'touchstart':\n          this._handleMoveEvent(e);\n\n          this._removeEndListener = addEventListener('touchend', this._handleTerminatingEvent);\n          this._removeMoveListener = addEventListener('touchmove', this._handleMoveEvent);\n          break;\n\n        default:\n          break;\n      }\n    } // Check whether provided event target element\n    // - is contained within a valid container\n\n  }, {\n    key: \"_isWithinValidContainer\",\n    value: function _isWithinValidContainer(e) {\n      var eventTarget = e.target;\n      var containers = this.validContainers;\n\n      if (!containers || !containers.length || !eventTarget) {\n        return true;\n      }\n\n      return containers.some(function (target) {\n        return !!eventTarget.closest(target);\n      });\n    }\n  }, {\n    key: \"_handleTerminatingEvent\",\n    value: function _handleTerminatingEvent(e) {\n      var _getEventCoordinates4 = getEventCoordinates(e),\n          pageX = _getEventCoordinates4.pageX,\n          pageY = _getEventCoordinates4.pageY;\n\n      this.selecting = false;\n      this._removeEndListener && this._removeEndListener();\n      this._removeMoveListener && this._removeMoveListener();\n      if (!this._initialEventData) return;\n      var inRoot = !this.container || (0, _contains.default)(this.container(), e.target);\n\n      var isWithinValidContainer = this._isWithinValidContainer(e);\n\n      var bounds = this._selectRect;\n      var click = this.isClick(pageX, pageY);\n      this._initialEventData = null;\n\n      if (e.key === 'Escape' || !isWithinValidContainer) {\n        return this.emit('reset');\n      }\n\n      if (click && inRoot) {\n        return this._handleClickEvent(e);\n      } // User drag-clicked in the Selectable area\n\n\n      if (!click) return this.emit('select', bounds);\n      return this.emit('reset');\n    }\n  }, {\n    key: \"_handleClickEvent\",\n    value: function _handleClickEvent(e) {\n      var _getEventCoordinates5 = getEventCoordinates(e),\n          pageX = _getEventCoordinates5.pageX,\n          pageY = _getEventCoordinates5.pageY,\n          clientX = _getEventCoordinates5.clientX,\n          clientY = _getEventCoordinates5.clientY;\n\n      var now = new Date().getTime();\n\n      if (this._lastClickData && now - this._lastClickData.timestamp < clickInterval) {\n        // Double click event\n        this._lastClickData = null;\n        return this.emit('doubleClick', {\n          x: pageX,\n          y: pageY,\n          clientX: clientX,\n          clientY: clientY\n        });\n      } // Click event\n\n\n      this._lastClickData = {\n        timestamp: now\n      };\n      return this.emit('click', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n    }\n  }, {\n    key: \"_handleMoveEvent\",\n    value: function _handleMoveEvent(e) {\n      if (this._initialEventData === null || this.isDetached) {\n        return;\n      }\n\n      var _this$_initialEventDa = this._initialEventData,\n          x = _this$_initialEventDa.x,\n          y = _this$_initialEventDa.y;\n\n      var _getEventCoordinates6 = getEventCoordinates(e),\n          pageX = _getEventCoordinates6.pageX,\n          pageY = _getEventCoordinates6.pageY;\n\n      var w = Math.abs(x - pageX);\n      var h = Math.abs(y - pageY);\n      var left = Math.min(pageX, x),\n          top = Math.min(pageY, y),\n          old = this.selecting; // Prevent emitting selectStart event until mouse is moved.\n      // in Chrome on Windows, mouseMove event may be fired just after mouseDown event.\n\n      if (this.isClick(pageX, pageY) && !old && !(w || h)) {\n        return;\n      }\n\n      this.selecting = true;\n      this._selectRect = {\n        top: top,\n        left: left,\n        x: pageX,\n        y: pageY,\n        right: left + w,\n        bottom: top + h\n      };\n\n      if (!old) {\n        this.emit('selectStart', this._initialEventData);\n      }\n\n      if (!this.isClick(pageX, pageY)) this.emit('selecting', this._selectRect);\n      e.preventDefault();\n    }\n  }, {\n    key: \"_keyListener\",\n    value: function _keyListener(e) {\n      this.ctrl = e.metaKey || e.ctrlKey;\n    }\n  }, {\n    key: \"isClick\",\n    value: function isClick(pageX, pageY) {\n      var _this$_initialEventDa2 = this._initialEventData,\n          x = _this$_initialEventDa2.x,\n          y = _this$_initialEventDa2.y,\n          isTouch = _this$_initialEventDa2.isTouch;\n      return !isTouch && Math.abs(pageX - x) <= clickTolerance && Math.abs(pageY - y) <= clickTolerance;\n    }\n  }]);\n  return Selection;\n}();\n/**\n * Resolve the disance prop from either an Int or an Object\n * @return {Object}\n */\n\n\nfunction normalizeDistance() {\n  var distance = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  if ((0, _typeof2.default)(distance) !== 'object') distance = {\n    top: distance,\n    left: distance,\n    right: distance,\n    bottom: distance\n  };\n  return distance;\n}\n/**\n * Given two objects containing \"top\", \"left\", \"offsetWidth\" and \"offsetHeight\"\n * properties, determine if they collide.\n * @param  {Object|HTMLElement} a\n * @param  {Object|HTMLElement} b\n * @return {bool}\n */\n\n\nfunction objectsCollide(nodeA, nodeB) {\n  var tolerance = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  var _getBoundsForNode = getBoundsForNode(nodeA),\n      aTop = _getBoundsForNode.top,\n      aLeft = _getBoundsForNode.left,\n      _getBoundsForNode$rig = _getBoundsForNode.right,\n      aRight = _getBoundsForNode$rig === void 0 ? aLeft : _getBoundsForNode$rig,\n      _getBoundsForNode$bot = _getBoundsForNode.bottom,\n      aBottom = _getBoundsForNode$bot === void 0 ? aTop : _getBoundsForNode$bot;\n\n  var _getBoundsForNode2 = getBoundsForNode(nodeB),\n      bTop = _getBoundsForNode2.top,\n      bLeft = _getBoundsForNode2.left,\n      _getBoundsForNode2$ri = _getBoundsForNode2.right,\n      bRight = _getBoundsForNode2$ri === void 0 ? bLeft : _getBoundsForNode2$ri,\n      _getBoundsForNode2$bo = _getBoundsForNode2.bottom,\n      bBottom = _getBoundsForNode2$bo === void 0 ? bTop : _getBoundsForNode2$bo;\n\n  return !( // 'a' bottom doesn't touch 'b' top\n  aBottom - tolerance < bTop || // 'a' top doesn't touch 'b' bottom\n  aTop + tolerance > bBottom || // 'a' right doesn't touch 'b' left\n  aRight - tolerance < bLeft || // 'a' left doesn't touch 'b' right\n  aLeft + tolerance > bRight);\n}\n/**\n * Given a node, get everything needed to calculate its boundaries\n * @param  {HTMLElement} node\n * @return {Object}\n */\n\n\nfunction getBoundsForNode(node) {\n  if (!node.getBoundingClientRect) return node;\n  var rect = node.getBoundingClientRect(),\n      left = rect.left + pageOffset('left'),\n      top = rect.top + pageOffset('top');\n  return {\n    top: top,\n    left: left,\n    right: (node.offsetWidth || 0) + left,\n    bottom: (node.offsetHeight || 0) + top\n  };\n}\n\nfunction pageOffset(dir) {\n  if (dir === 'left') return window.pageXOffset || document.body.scrollLeft || 0;\n  if (dir === 'top') return window.pageYOffset || document.body.scrollTop || 0;\n}\n\nvar _default = Selection;\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}